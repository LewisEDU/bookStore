<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Aston Books</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarColor03">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/data/books/private">Home <span class="sr-only">(current)</span></a>
        </li>
        <% if(user.isAdmin) {%>
        <li class="nav-item">
          <a class="nav-link" href="/data/books/dash">Dashboard</a>
        </li>
    <% } %> 
      </ul>
      <a href="/data/basket/private" class="btn">Basket</a>
      <a href="/users/logout" class="btn btn-secondary">Logout</a>
    </div>
  </nav>
  <!-- Main content sectionz -->
<div class="container" style="padding-top:20px;">
  <div class="col-sm-6">
    <!-- <div class="form-group"> -->
      <!-- <label for="exampleSelect2">Categories</label> -->
    <!-- <form action="/books/:categories" method="POST">
      <select multiple="" class="form-control" id="category" value="<%= typeof category != 'undefined' ? category : '' %>" required="true" name="category">
        <option>Action and adventure</option>
        <option> Art/architecture</option>
        <option>Alternate history</option>
        <option>Autobiography</option>
        <option>Anthology</option>
        <option>Biography</option>
        <option>Chick lit</option>
        <option>Business/economics</option>
        <option>Children's</option>
        <option>Crafts/hobbies</option>
        <option>Classic </option>
        <option>Cookbook</option>
        <option>Comic book</option>
        <option>Diary</option>
        <option>Coming-of-age</option>
        <option>Dictionary</option>
        <option>Crime</option>
        <option>Encyclopedia</option>
        <option>Drama</option>
        <option>Guide</option>
        <option>Fairytale</option>
        <option>Health/fitness</option>
        <option>Fantasy</option>
        <option>History</option>
        <option>Graphic novel</option>
        <option>Home and garden</option>
        <option>Historical fiction</option>
        <option>Humor</option>
        <option>Horror</option>
        <option>Journal</option>
        <option>Mystery</option>
        <option>Math</option>
        <option>Paranormal romance</option>
        <option>Memoir</option>
        <option>Picture book</option>
        <option>Philosophy</option>
        <option>Poetry</option>
        <option>Prayer</option>
        <option>Political thriller</option>
        <option>Religion, spirituality, and new age</option>
        <option>Romance</option>
        <option>Textbook</option>
        <option>Satire</option>
        <option>True crime</option>
        <option>Science fiction</option>
        <option>Review</option>
        <option>Short story</option>
        <option>Science</option>
        <option>Suspense</option>
        <option>Self help</option>
        <option>Thriller</option>
        <option>Sports and leisure</option>
        <option>Western</option>
        <option>Travel</option>
        <option>Young adult</option>
      </select>
      <button type="submit">Submit</button>
    </form> -->
    </div>
  </div>
    <div class="row">
      <% Books.forEach(function (book) { %>
            <div class="col-sm-12 col-md-6 col-lg-4 align-items-stretch d-flex ">
              
              <div class="card">
                <div class="card-body flex-column d-flex">
                  <h5 class="card-title" style="overflow: hidden;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;"><%= book.title %></h5>
                  <img style="height: 300px; width: 95%; display: block;margin:0 auto;" src="/media/images/<%= book.imagePath %>" alt="Card image">    
                  <p class="card-text" style="overflow: hidden;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 3;-webkit-box-orient: vertical;"><%= book.description %></p>              
                  <button type="button" class="btn btn-primary mt-auto" data-toggle="modal" data-target="#exampleModal<%= book._id %>">
                    Details
                  </button>
                <p class="card-text align-center text-center" style="margin-top:15px; margin-bottom: 0;"><% if(book.stock <= 0){ %> Out of stock <% } else { %>In stock <% }  %>  </p>    
                  <div class="modal fade" id="exampleModal<%= book._id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel"><%= book.title %></h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <img style="height: 350px; width: 70%; display: block;margin:0 auto;" src="/media/images/<%= book.imagePath %>" alt="Card image" class="border border-secondary">    
                          <h6>Description</h6>
                          <p class="card-text"><%= book.description %></p>
                          <h6>Price</h6>
                          <p class="card-text">Â£<%= book.price %>.00</p>
                          <h6>Categories</h6>
                          <p class="card-text"><% book.category.forEach(function (cat) { %>  <%= cat %> - <% }) %></p>
                          <h6>Author</h6>
                          <p class="card-text"><%= book.author %></p>
                          <h6>Published</h6>
                          <p class="card-text"><%= book.publishyear %></p>
                          <h6>In Stock</h6>
                          <p class="card-text"><%= book.stock %></p>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                          <form method="POST" target="/data/basket">
                            <input type="hidden" value="<%= book._id %>" name="bookId">
                          <% if(book.stock <= 0){ %> <button type="button" class="btn btn-primary disabled">Out of stock</button> <% } else { %> <button type="submit" class="btn btn-primary">Add to basket</button> <% }  %>
                        </form>  
                        </div>
                      </div>
                    </div>
                  </div>

                  </div>
                </div>
                
              </div>
              <% }) %>
            <!-- <div class="col-sm-12 col-md-6 col-lg-4">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Book Name</h5>
                    <img style="height: 200px; width: 100%; display: block;" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22318%22%20height%3D%22180%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20318%20180%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_158bd1d28ef%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A16pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_158bd1d28ef%22%3E%3Crect%20width%3D%22318%22%20height%3D%22180%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22129.359375%22%20y%3D%2297.35%22%3EImage%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" alt="Card image">    
                    <p class="card-text">Description</p>
                    <a href="#" class="btn btn-primary">Details</a>
                  </div>
                </div>
              </div>
            <div class="col-sm-12 col-md-6 col-lg-4">
                <div class="card">
                    <div class="card-body">
                    <h5 class="card-title">Book Name</h5>
                    <img style="height: 200px; width: 100%; display: block;" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22318%22%20height%3D%22180%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20318%20180%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_158bd1d28ef%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A16pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_158bd1d28ef%22%3E%3Crect%20width%3D%22318%22%20height%3D%22180%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22129.359375%22%20y%3D%2297.35%22%3EImage%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" alt="Card image">    
                    <p class="card-text">Description</p>
                    <a href="#" class="btn btn-primary">Details</a>
                    </div>
                </div>
            </div> -->
    </div>
</div>
